"use strict";function initMap(){var e=new google.maps.StyledMapType(styles,{name:"Styled Map"}),t={zoom:12,draggable:!0,scrollwheel:!1,center:new google.maps.LatLng(22.8702492,120.4703258),mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,"map_style"]}};map=new google.maps.Map(document.getElementById("map"),t),map.mapTypes.set("map_style",e),map.setMapTypeId("map_style"),map.setOptions({styles:styles,mapTypeControl:!1});var a="images/layer_agriculture.svg",i="images/layer_specific_agriculture.svg",r="images/layer_mountain.svg",o="images/layer_contour.svg",n={north:23.0079,south:22.7462,east:120.679,west:120.2666},l={opacity:.7};tapWaterLayer=new google.maps.Data,tapWaterLayer.loadGeoJson("assets/TWQPROT.json"),tapWaterLayer.setStyle({fillColor:"green",strokeWeight:0,opacity:.1}),tapWaterLayer.setMap(map),groundwaterLayer=new google.maps.Data,groundwaterLayer.loadGeoJson("assets/GWREGION.json"),groundwaterLayer.setStyle({fillColor:"blue",strokeWeight:0,opacity:.1}),groundwaterLayer.setMap(map),agricultureOverlay=new google.maps.GroundOverlay(a,n,l),agricultureOverlay.setMap(map),specificOverlay=new google.maps.GroundOverlay(i,n,l),specificOverlay.setMap(map),mountainOverlay=new google.maps.GroundOverlay(r,n,l),mountainOverlay.setMap(map),contourOverlay=new google.maps.GroundOverlay(o,n,l),contourOverlay.setMap(map);var s=new google.maps.Marker({position:new google.maps.LatLng(22.949986,120.516294),title:"旗山污染場址",animation:google.maps.Animation.DROP});s.setMap(map)}function setToggle(e,t){e?t.setMap(map):t.setMap(null)}function setAgricultureToggle(){agricultureOn=!agricultureOn,setToggle(agricultureOn,agricultureOverlay)}function setSpecificToggle(){specificOn=!specificOn,setToggle(specificOn,specificOverlay)}function setMountainToggle(){mountainOn=!mountainOn,setToggle(mountainOn,mountainOverlay)}function setTapWaterToggle(){tapWaterOn=!tapWaterOn,setToggle(tapWaterOn,tapWaterLayer)}function setGroundWaterToggle(){groundwaterOn=!groundwaterOn,setToggle(groundwaterOn,groundwaterLayer)}var ANIMATION={fadeInUp:{opacity:[1,0],translateY:[0,"100%"]}};$(document).ready(function(){function e(){var e=$("#environment-slider");$(".carousel-inner .item:first").hasClass("active")?(e.find(".left-btn").attr("src","images/left_btn.svg"),e.find(".right-btn").attr("src","images/right_btn_active.svg")):$(".carousel-inner .item:last").hasClass("active")?(e.find(".left-btn").attr("src","images/left_btn_active.svg"),e.find(".right-btn").attr("src","images/right_btn.svg")):(e.find(".left-btn").attr("src","images/left_btn_active.svg"),e.find(".right-btn").attr("src","images/right_btn_active.svg"))}$('[data-toggle="tooltip"]').tooltip();var t=new ScrollMagic.Controller,a=(new ScrollMagic.Scene({triggerElement:"#scene-2",triggerHook:"onLeave"}).addTo(t),new ScrollMagic.Scene({triggerElement:"#chapter-middle",triggerHook:"onLeave",offset:"50%"}).setVelocity("#chapter-middle .blurred-image",{opacity:1},{duration:500,easing:"linear"}).addTo(t),new ScrollMagic.Scene({triggerElement:"#chapter-bottom",triggerHook:"onLeave",offset:"50%"}).setVelocity("#chapter-bottom .blurred-image",{opacity:1},{duration:500,easing:"linear"}).addTo(t),new ScrollMagic.Scene({triggerElement:"#scene-4",triggerHook:"onLeave",offset:10}).addTo(t),new ScrollMagic.Scene({triggerElement:"#g-soil",triggerHook:"onEnter",offset:0}).setVelocity("#g-soil",{translateX:0},{duration:0,complete:function(){$(".soil-bottom").velocity(ANIMATION.fadeInUp,{delay:100,duration:300}),$(".soil-middle").velocity(ANIMATION.fadeInUp,{delay:100,duration:600}),$(".soil-top").velocity(ANIMATION.fadeInUp,{delay:100,duration:1e3}),$(".soil-tree").velocity(ANIMATION.fadeInUp,{delay:100,duration:1200})}}).addTo(t),new ScrollMagic.Scene({triggerElement:"#scene-google-map",triggerHook:"onLeave",offset:"50%"}).addTo(t),(new TimelineMax).to("#1st-birdview .birdview-description",0,{top:"100%"}).to("#1st-birdview .birdview-description",1,{top:0}).to("#2nd-birdview",1,{opacity:1}).to("#2nd-birdview .birdview-description",0,{top:"100%"}).to("#2nd-birdview .birdview-description",1,{top:0}).to("#3rd-birdview",1,{opacity:1}).to("#3rd-birdview .birdview-description",0,{top:"100%"}).to("#3rd-birdview .birdview-description",1,{top:0}).to("#4th-birdview",1,{opacity:1}).to("#4th-birdview .birdview-description",0,{top:"100%"}).to("#4th-birdview .birdview-description",1,{top:0}));new ScrollMagic.Scene({triggerElement:"#scene-birdview",triggerHook:"onLeave",duration:"200%"}).setPin("#scene-birdview").setTween(a).addTo(t);$(".carousel").carousel({interval:2e3}),$(".carousel").bcSwipe({threshold:50}),$("#environment-slider").on("slid.bs.carousel",e)});var styles=[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#46bcec"},{visibility:"on"}]}],map=void 0,agricultureOverlay=void 0,specificOverlay=void 0,mountainOverlay=void 0,contourOverlay=void 0,tapWaterLayer=void 0,groundwaterLayer=void 0,agricultureOn=!0,specificOn=!0,mountainOn=!0,contourOn=!0,tapWaterOn=void 0,groundwaterOn=void 0;